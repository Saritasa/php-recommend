<template>
  <div class="search-form-wrapper">
    <input v-model="localKeyword"
           type="text"
           placeholder="Search keyword"
           @input="$emit('input', localKeyword)"
    >
    <button class="clear-search"
            @click="onClearSearch()">
      Clear
    </button>
  </div>
</template>

<script>
export default {
  props: {
    value: {
      type:    String,
      default: null,
    },
  },
  data() {
    return {
      localKeyword: null,
    };
  },
  watch: {
    keyword(newVal) {
      this.localKeyword = newVal;
    },
  },
  methods: {
    /**
     * Action after clicking on "Clear" button of search box.
     */
    onClearSearch() {
      this.localKeyword = null;
      this.$emit('clearSearch');
    },
  },
};
</script>

<style lang="scss" scoped>
.search-form-wrapper {
  display: inline-block;
  input {
    width: 300px;
    height: 26px;
    font-size: 14px;
    padding: 2px;
  }
  .clear-search {
    z-index: 1;
    -moz-box-shadow:inset 0px 1px 3px 0px #91b8b3;
    -webkit-box-shadow:inset 0px 1px 3px 0px #91b8b3;
    box-shadow:inset 0px 1px 3px 0px #91b8b3;
    background:-webkit-gradient(
      linear, left top, left bottom, color-stop(0.05, #768d87), color-stop(1, #6c7c7c)
    );
    background:-moz-linear-gradient(top, #768d87 5%, #6c7c7c 100%);
    background:-webkit-linear-gradient(top, #768d87 5%, #6c7c7c 100%);
    background:-o-linear-gradient(top, #768d87 5%, #6c7c7c 100%);
    background:-ms-linear-gradient(top, #768d87 5%, #6c7c7c 100%);
    background:linear-gradient(to bottom, #768d87 5%, #6c7c7c 100%);
    filter:progid:DXImageTransform.Microsoft.gradient(
      startColorstr='#768d87', endColorstr='#6c7c7c',GradientType=0
    );
    background-color:#768d87;
    -moz-border-radius:5px;
    -webkit-border-radius:5px;
    border-radius:5px;
    border:1px solid #566963;
    display:inline-block;
    cursor:pointer;
    color:#ffffff;
    font-family:Arial;
    font-size:15px;
    font-weight:bold;
    padding:7px 23px;
    text-decoration:none;
    text-shadow:0px -1px 0px #2b665e;
    &:hover {
      background: -webkit-gradient(
        linear, left top, left bottom, color-stop(0.05, #6c7c7c), color-stop(1, #768d87)
      );
      background: -moz-linear-gradient(top, #6c7c7c 5%, #768d87 100%);
      background: -webkit-linear-gradient(top, #6c7c7c 5%, #768d87 100%);
      background: -o-linear-gradient(top, #6c7c7c 5%, #768d87 100%);
      background: -ms-linear-gradient(top, #6c7c7c 5%, #768d87 100%);
      background: linear-gradient(to bottom, #6c7c7c 5%, #768d87 100%);
      filter: progid:DXImageTransform.Microsoft.gradient(
        startColorstr='#6c7c7c', endColorstr='#768d87', GradientType=0
      );
      background-color: #6c7c7c;
    }
    &:active {
      position:relative;
      top:1px;
    }
  }
}
</style>
